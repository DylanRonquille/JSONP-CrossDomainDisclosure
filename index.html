<!doctype html>
<html>
  <body>
    <h2>CORS Read Test</h2>
    <button id="go">Fetch</button>
    <pre id="out"></pre>

    <script>
      // Replace with the API endpoint you are authorized to test
      const TARGET = "https://138.47.13.38:8080/rest/user/whoami";

      document.getElementById("go").onclick = async () => {
        const out = document.getElementById("out");
        out.textContent = "Fetchingâ€¦";

        try {
          const res = await fetch(TARGET);

          out.textContent =
            "Status: " + res.status + "\n" +
            "ACAO: " + res.headers.get("access-control-allow-origin") + "\n" +
            "ACAC: " + res.headers.get("access-control-allow-credentials") + "\n\n";

          const text = await res.text();
          out.textContent += text;
        } catch (e) {
          const errorDetails = {
            message: e.message,
            stack: e.stack,
            target: TARGET,
            timestamp: new Date().toISOString(),
          };

          out.textContent = "Blocked / Error:
" + JSON.stringify(errorDetails, null, 2);
        }
      };
    <\/script>
  </body>
</html>